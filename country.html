<html>
<head>

<link rel="stylesheet" href="m.css">
<link rel="stylesheet" href="menu.css">
</head>
<body>




<div class="header">
  <a href="#default" class="logo" style="background-color:red;">Deep Restaurant</a>
  <div class="header-right">
   <a class="active" href="index.html">Home</a>
    
    
   <button id="myBtn" style="margin-top:9px; background-color:#3FF03F;padding:14px; margin:5px;" >Employee Login</button>
  </div>
</div>




<div  style="text-align:center;" >


 <h2>Find Countries Geographical Details</h2>
 
  
    <div id="info-container" >
      <select id="countries"></select>
      <p>Capital: <span id="capital"></span></p>
      <p>Dialing Code: <span id="dialing-code"></span></p>
      <p>Population: <span id="population"></span></p>
      <p>Currencies: <span id="currencies"></span></p>
      <p>Region: <span id="region"></span></p>
      <p>Subregion: <span id="subregion"></span></p>
    </div>
   <div>

   

     <div id="flag-container" >
      <img src="" alt="" width="300px;" height="200px;">
   
   <div>















</div>

<!--------------------------------------------------------------->
\
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <div class="modal-header">
      <span class="close">&times;</span>
      <h2>Login</h2>
    </div>
    <div class="modal-body">
     <form action="/action_page.php" id="form1">
			  <label for="fname">Username:</label>
			 <input type="text" id="usrname" name="usrname" required>

			 <label for="lname">Password:</label>
			 <input type="password" id="psw" name="psw" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must 
   contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required>

    <br><br>
			 
			 <input type="submit" value="Submit">
	    </form>
    </div>
    <div class="modal-footer">
      <div id="message">
  <h5>Password must contain the following:</h5>
  <p id="letter" class="invalid">A <b>lowercase</b> letter</p>
  <p id="capital" class="invalid">A <b>capital (uppercase)</b> letter</p>
  <p id="number" class="invalid">A <b>number</b></p>
  <p id="length" class="invalid">Minimum <b>8 characters</b></p>
</div>
    </div>
  </div>

</div>

<script>
// Get the modal
var modal = document.getElementById("myModal");

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
</script>



<div class="footer">
</div>



</body>

<script>
    function toggle(ele) {
        var cont = document.getElementById('cont');
        if (cont.style.display == 'block') {
            cont.style.display = 'none';

            
        }
        else {
            cont.style.display = 'block';
            cont2.style.display = 'none';
			cont3.style.display = 'none';
			cont4.style.display = 'none';
			cont5.style.display = 'none';

            
        }
    }


   function toggle2(ele) {
        var cont2 = document.getElementById('cont2');
        if (cont2.style.display == 'block') {
            cont2.style.display = 'none';

            
        }
        else {
            cont2.style.display = 'block';
            cont.style.display = 'none';
			cont3.style.display = 'none';
			cont4.style.display = 'none';
			cont5.style.display = 'none';

            
        }
    }


   function toggle3(ele) {
        var cont3 = document.getElementById('cont3');
        if (cont3.style.display == 'block') {
            cont3.style.display = 'none';

            
        }
        else {
            cont3.style.display = 'block';
            cont.style.display = 'none';
			cont2.style.display = 'none';
			cont4.style.display = 'none';
			cont5.style.display = 'none';

            
        }
    }




  function toggle4(ele) {
        var cont4 = document.getElementById('cont4');
        if (cont4.style.display == 'block') {
            cont4.style.display = 'none';


        }
        else {
            cont4.style.display = 'block';
            cont.style.display = 'none';
			cont2.style.display = 'none';
			cont3.style.display = 'none';
			cont5.style.display = 'none';

            
        }
    }



function toggle5(ele) {
        var cont5 = document.getElementById('cont5');
        if (cont5.style.display == 'block') {
            cont5.style.display = 'none';

            
        }
        else {
            cont5.style.display = 'block';
            cont.style.display = 'none';
			cont2.style.display = 'none';
			cont3.style.display = 'none';
			cont4.style.display = 'none';

            
        }
    }
</script>


<script>
var myInput = document.getElementById("psw");
var letter = document.getElementById("letter");
var capital = document.getElementById("capital");
var number = document.getElementById("number");
var length = document.getElementById("length");

// When the user clicks on the password field, show the message box
myInput.onfocus = function() {
  document.getElementById("message").style.display = "block";
}

// When the user clicks outside of the password field, hide the message box
myInput.onblur = function() {
  document.getElementById("message").style.display = "none";
}

// When the user starts to type something inside the password field
myInput.onkeyup = function() {
  // Validate lowercase letters
  var lowerCaseLetters = /[a-z]/g;
  if(myInput.value.match(lowerCaseLetters)) {  
    letter.classList.remove("invalid");
    letter.classList.add("valid");
  } else {
    letter.classList.remove("valid");
    letter.classList.add("invalid");
  }
  
  // Validate capital letters
  var upperCaseLetters = /[A-Z]/g;
  if(myInput.value.match(upperCaseLetters)) {  
    capital.classList.remove("invalid");
    capital.classList.add("valid");
  } else {
    capital.classList.remove("valid");
    capital.classList.add("invalid");
  }

  // Validate numbers
  var numbers = /[0-9]/g;
  if(myInput.value.match(numbers)) {  
    number.classList.remove("invalid");
    number.classList.add("valid");
  } else {
    number.classList.remove("valid");
    number.classList.add("invalid");
  }
  
  // Validate length
  if(myInput.value.length >= 8) {
    length.classList.remove("invalid");
    length.classList.add("valid");
  } else {
    length.classList.remove("valid");
    length.classList.add("invalid");
  }
}
</script>

<script>


// Global Variables
const countriesList = document.getElementById("countries");
let countries; // will contain "fetched" data

// Event Listeners
// countriesList.addEventListener("change", event => displayCountryInfo(event.target.value));

countriesList.addEventListener("change", newCountrySelection);

function newCountrySelection(event) {
  displayCountryInfo(event.target.value);
}

// fetch("https://restcountries.eu/rest/v2/all")
// .then(function(res){
//   // console.log(res);
//   return res.json();
// })
// .then(function(data){
//   // console.log(data);
//   initialize(data);
// })
// .catch(function(err){
//   console.log("Error:", err);
// });

fetch("https://restcountries.eu/rest/v2/all")
.then(res => res.json())
.then(data => initialize(data))
.catch(err => console.log("Error:", err));

function initialize(countriesData) {
  countries = countriesData;
  let options = "";
  // for(let i=0; i<countries.length; i++) {
  //   options += `<option value="${countries[i].alpha3Code}">${countries[i].name}</option>`;
  //   // options += `<option value="${countries[i].alpha3Code}">${countries[i].name} (+${countries[i].callingCodes[0]})</option>`;
  // }
  countries.forEach(country => options+=`<option value="${country.alpha3Code}">${country.name}</option>`);
  // document.getElementById("countries").innerHTML = options;
  // document.querySelector("#countries").innerHTML = options;
  countriesList.innerHTML = options;
  // console.log(countriesList);
  // console.log(countriesList.value);
  // console.log(countriesList.length);
  // console.log(countriesList.selectedIndex);
  // console.log(countriesList[10]);
  // console.log(countriesList[10].value);
  // console.log(countriesList[10].text);
  countriesList.selectedIndex = Math.floor(Math.random()*countriesList.length);
  displayCountryInfo(countriesList[countriesList.selectedIndex].value);
}

function displayCountryInfo(countryByAlpha3Code) {
  const countryData = countries.find(country => country.alpha3Code === countryByAlpha3Code);
  document.querySelector("#flag-container img").src = countryData.flag;
  document.querySelector("#flag-container img").alt = `Flag of ${countryData.name}`;  
  document.getElementById("capital").innerHTML = countryData.capital;
  document.getElementById("dialing-code").innerHTML = `+${countryData.callingCodes[0]}`;
  document.getElementById("population").innerHTML = countryData.population.toLocaleString("en-US");
  document.getElementById("currencies").innerHTML = countryData.currencies.filter(c => c.name).map(c => `${c.name} (${c.code})`).join(", ");
  document.getElementById("region").innerHTML = countryData.region;
  document.getElementById("subregion").innerHTML = countryData.subregion;
}
</script>
</html>
